<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cart - GreenShop</title>
<style>
/* Reset & body */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
body { background-color: #f5f5f5; padding: 20px; }

/* Navbar */
.navbar {
    display: flex; justify-content: space-between; align-items: center;
    background-color: #2e7d32; padding: 10px 20px; border-radius: 10px; color: #fff;
}
.navbar .logo { font-size: 24px; font-weight: bold; }
.navbar .nav-links { list-style: none; display: flex; gap: 20px; }
.navbar .nav-links li a { text-decoration: none; color: #fff; font-weight: bold; transition: color 0.3s; }
.navbar .nav-links li a:hover { color: #a5d6a7; }
.burger { display: none; cursor: pointer; flex-direction: column; gap: 5px; }
.burger div { width: 25px; height: 3px; background-color: #fff; border-radius: 2px; }
@media (max-width: 768px) {
    .navbar .nav-links { display: none; position: absolute; top: 60px; right: 20px; background-color: #2e7d32; flex-direction: column; gap: 15px; padding: 15px; border-radius: 10px; }
    .navbar .nav-links.active { display: flex; }
    .burger { display: flex; }
}

/* Header */
h2 { text-align: center; margin: 30px 0; color: #2e7d32; }

/* Cart grid */
.cart-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px; max-width: 1200px; margin: 0 auto; }
.cart-card {
    background-color: #fff; border-radius: 15px; padding: 15px; text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: transform 0.3s, box-shadow 0.3s;
}
.cart-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
.cart-card img { width: 100%; border-radius: 15px; margin-bottom: 10px; height: 180px; object-fit: cover; }
.cart-card h3 { color: #2e7d32; margin-bottom: 5px; }
.cart-card p { color: #555; margin-bottom: 10px; }
.cart-card input[type=number] { width: 60px; padding: 5px; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc; text-align: center; }
.cart-card button { padding: 8px 15px; background-color: #2e7d32; color: #fff; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.3s; }
.cart-card button:hover { background-color: #1b5e20; }
.cart-card .remove-btn { background-color: #c62828; margin-top: 10px; }
.cart-card .remove-btn:hover { background-color: #8e0000; }

/* Top links */
.top-links { display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; }
.top-links a { text-decoration: none; color: #2e7d32; font-weight: bold; font-size: 18px; }
.top-links a:hover { text-decoration: underline; }

/* Grand total */
.grand-total { text-align: center; margin-top: 20px; font-size: 22px; color: #2e7d32; font-weight: bold; }

/* Table styles */
table { width: 100%; border-collapse: collapse; background: white; margin-top: 20px; }
th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
th { background-color: #4CAF50; color: white; }
.total { font-size: 20px; font-weight: bold; margin: 20px 0; }
button { background-color: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; }
button:hover { background-color: #45a049; }
.remove-btn { background-color: #e74c3c; padding: 5px 10px; font-size: 12px; }
.remove-btn:hover { background-color: #c0392b; }
</style>
</head>
<body>

<!-- Navbar -->
<header>
<nav class="navbar">
  <div class="logo">üåø GreenShop</div>
  <ul class="nav-links">
    <li><a href="{{ url_for('home') }}">Home</a></li>
    <li><a href="{{ url_for('cart') }}">Cart üõí</a></li>
    <li><a href="{{ url_for('checkout') }}">Checkout üí≥</a></li>
  </ul>
  <div class="burger">
    <div></div>
    <div></div>
    <div></div>
  </div>
</nav>
</header>

<div class="container">
    <h2>üõí Your Cart</h2>

    <div class="top-links">
        <a href="{{ url_for('home') }}">üè° Continue Shopping</a>
        <a href="{{ url_for('checkout') }}">üí≥ Checkout</a>
    </div>

    {% if cart and cart|length > 0 %}
    <table>
        <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Action</th>
        </tr>
        {% for item in cart %}
            <tr>
                <td>{{ item.name }}</td>
                <td>‚Ç±{{ item.price }}</td>
                <td>
                    <form action="{{ url_for('update_cart') }}" method="POST" style="display:inline;">
                        <input type="number" name="{{ item.id }}" value="{{ item.qty }}" min="1" style="width: 50px;">
                </td>
                <td>‚Ç±{{ item.price * item.qty }}</td>
                <td>
                    <a href="{{ url_for('remove_item', plant_id=item.id) }}" class="remove-btn" style="text-decoration: none; color: white;">Remove</a>
                    </form>
                </td>
            </tr>
        {% endfor %}
    </table>

    <div class="total">
        Grand Total: ‚Ç±{{ total }}
    </div>
    <a href="{{ url_for('checkout') }}"><button>Proceed to Checkout</button></a>
    {% else %}
        <p>Your cart is empty. <a href="{{ url_for('home') }}">Continue shopping</a></p>
    {% endif %}
</div>

<script>
// Burger toggle
const burger = document.querySelector('.burger');
const nav = document.querySelector('.nav-links');
burger.addEventListener('click', () => { nav.classList.toggle('active'); });
</script>

</body>
</html>
